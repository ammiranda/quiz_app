<!DOCTYPE html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="http://netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="main.css" type="text/css">
<link rel="shortcut icon" href="http://www.themaninchina.com/images/chinese_characters/graphic%20zhong%20stroke%204.gif">
<title>China Quiz!</title>
</head>
<body>
<div id="container" class="col-lg-6 col-md-8 col-sm-12 col-lg-offset-3 col-md-offset-2">
	<script id="questions-template" type="text/x-handlebars-template">
		<h1 id="quiz_title">
			China Quiz
		</h1>
		<p id="quiz_descr">
			Test your knowledge of China (中国)!<br> Answer these questions to the best of your ability.
		</p>
		<img id="china_map" src="china_flag_map.png" width="300" height="250">	
		<p id="scores"></p>
		<br>
		<div id="questions">
		

			{{#each this}}

				<form id="{{{this._id}}}" class="question">
				<p class="question_text">{{qtext}}</p>
				<p class="pick_answer" style="display: none;">Please select an answer!</p>
				<table>
				{{#each answers}}
					<tr>
					<td>
						<label>
						<input type="radio" name="{{{formNum}}}" value="{{{label}}}">
						{{label}}
						</label>
					</td>
					</tr>
				{{/each}}
				</table>
				<p class="buttons">
					<button class="restart">Restart</button>
					<button type="submit" class="next">Submit</button>
				</p>
				</form>
			{{/each}}
		</script>
		<script id="ultimateWin" type="text/x-handlebars-template">
			<h1 id="quiz_title">
				You are the Huang Di! Gong xi Gong xi! (恭喜恭喜)
			</h1>
			<img  id="china_map" src="yellow-emperor.jpg" width="300" height="330">
			<div id="questions">
				<form class="question">
					<p class="buttons">
						<button class="restart">Restart</button>
					</p>
				</form>
			</div>
		</script>
	</div>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
	<script src="http://code.jquery.com/ui/1.9.2/jquery-ui.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/1.2.1/handlebars.min.js"></script>
	<script src="http://netdna.bootstrapcdn.com/bootstrap/3.0.3/js/bootstrap.min.js"></script>
	<script src="script.js"></script>
	<script>
		(dataOutput = function() {
			data = [
					{
					_id: 0, 
					qtext: "What hat color is taboo in China?", 
					answers: [
					{formNum: 0, label: "Green（绿色)"}, 
					{formNum: 0, label: "Yellow（黄色)"}, 
					{formNum: 0, label:"Red（红色)"}, 
					{formNum: 0, label: "Purple（紫色)"}
							], 
					solution: "Green（绿色)"
					},

					{
					_id: 1, 
					qtext: "The Huangpu (黄浦）river runs through which major Chinese city?", 
					answers: [
					{formNum: 1, label: "Beijing (北京)"}, 
					{formNum: 1, label: "Chengdu（成都)"}, 
					{formNum: 1, label: "Shanghai（上海)"}, 
					{formNum: 1, label: "Guangzhou（广洲)"}
							], 
					solution: "Shanghai（上海)"
					},

					{
					_id: 2, 
					qtext: "The Giant Panda's current natural habitat is found mainly in which province?",
				    answers: [
				    {formNum: 2, label: "Fujian (福建)"}, 
				    {formNum: 2, label: "Anhui（安徽)"}, 
					{formNum: 2, label: "Sichuan (四川)"},
					{formNum: 2, label: "Hunan（湖南)"}
							], 
					solution: "Sichuan (四川)"
					},

					{
					_id: 3, 
					qtext: "Which is a famous Shanghainese dish?", 
					answers: [
					{formNum: 3, label: "Xiao Long Bao（小龙包)"},
					{formNum: 3, label: "Man Tou（馒头)"}, 
					{formNum: 3, label: "Ma Po Dou Fu（麻婆豆腐)"}, 
					{formNum: 3, label: "Ma La Tu Tou（麻辣兔头)"}
							], 
					solution: "Xiao Long Bao（小龙包)"
					},

					{
					_id: 4, 
					qtext: "Which is a Chinese city famous for winter ice sculptures?", 
					answers: [
					{formNum: 4, label: "Hong Kong（香港)"}, 
					{formNum: 4, label: "Harbin（哈尔滨)"},
					{formNum: 4, label: "Beijing（北京)"}, 
					{formNum: 4, label: "Fuzhou（福州)"}
							], 
					solution: "Harbin（哈尔滨)"
					}
					];

			var template = Handlebars.compile( $('#questions-template').html() );

			console.log(template(data));

			$('#container').append( template(data) );
			return data;
		})();
	</script>
</body>
</html>